System.register("chunks:///_virtual/MagicEmojiUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,i,r,a,o,c;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy,i=e.instantiate,r=e.director,a=e.Vec3,o=e.find,c=e.Camera}],execute:function(){t._RF.push({},"b2cb23wOitNypimZ+qxXTTU","MagicEmojiUtil",void 0),e("MagicEmojiUtil",function(){function e(){}return e.instantiate=function(e){var n=i(e);return r.getScene().addChild(n),n},e.convertScreenPosToCenter=function(e){return new a(e.x+e.w/2,e.y-e.h/2,0)},e.getWorldPositionFromScreenPos=function(n,t,i){var r=e.mainCamera.screenToWorld(new a(n,t,i));return r.z=0,r},n(e,null,[{key:"mainCamera",get:function(){return e._mainCamera||(e._mainCamera=o("Main Camera").getComponent(c)),this._mainCamera}}]),e}())._mainCamera=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./ME_Ribben.ts","./MELauncher.ts","./MagicEmojiUtil.ts","./MEMeta.ts"],(function(){"use strict";return{setters:[null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/ME_Ribben.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MagicEmojiUtil.ts","./MEMeta.ts"],(function(e){"use strict";var t,r,i,n,a,o,c,s,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.Prefab,s=e.Vec3,l=e.Component},function(e){p=e.MagicEmojiUtil},null],execute:function(){var f,u,b,h,y,M,m;a._RF.push({},"adca0A5XBJMyYcinUDIt5hz","ME_Ribben",void 0);var E=o.ccclass,g=o.property;e("ME_Ribben",(f=E("ME_Ribben"),u=g([c]),b=g([c]),f((M=t((y=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).EMOJI_KEY="Ribben",i(t,"prefabSet",M,n(t)),i(t,"prefabPat",m,n(t)),t}r(t,e);var a=t.prototype;return a.onLoad=function(){},a.handleEmoji=function(e){var t,r,i=p.convertScreenPosToCenter(e.msgMeta.frame),n=p.getWorldPositionFromScreenPos(i.x,i.y,0);r=null!=(t=e.msgMeta)&&t.isPat?n.y>0?this.prefabPat[0]:this.prefabPat[1]:n.x>0?n.y>0?this.prefabSet[0]:this.prefabSet[1]:n.y>0?this.prefabSet[2]:this.prefabSet[3];var a=p.instantiate(r);a.position=new s(n.x,n.y,5),console.info("["+this.EMOJI_KEY+"] screen: "+i+", world pos: "+n+", prefab: "+a.name)},a.onClearAllVFX=function(){},t}(l)).prototype,"prefabSet",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=t(y.prototype,"prefabPat",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=y))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/MELauncher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MEMeta.ts"],(function(e){"use strict";var n,t,o,r,a,s,c,i,u;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,r=e.assetManager,a=e.instantiate,s=e.director,c=e.Component},function(e){i=e.MEMsgMeta,u=e.Frame}],execute:function(){var l;t._RF.push({},"cd336XHKjtNiLaYcB/md08I","MELauncher",void 0);var m=o.ccclass;o.property,e("MELauncher",m("MELauncher")(l=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.start=function(){var e=Date.now();r.loadBundle("Ribben",(function(n,t){n?console.error(n):t.load("Ribben",(function(n,t){if(n)console.error(n);else{var o=a(t);s.getScene().addChild(o);var r=o.getComponent("ME_Ribben");null==r||r.handleEmoji({msgId:0,msgMeta:new i({emojiKey:"",fromUserName:"",isFrom:!1,msgId:0,msgType:0,scene:0,timestamp:0,toUserName:"",frame:new u({x:528,y:269,w:50,h:41})})}),console.info("Ribben cost: "+(Date.now()-e))}}))}))},t}(c))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/MEMeta.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,s,o;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){s=e.cclegacy,o=e.screen}],execute:function(){s._RF.push({},"b00d3vP8MxK8L2wHhIvBMTc","MEMeta",void 0);var n=e("Frame",function(){function e(e){var t=e.x,i=e.y,s=e.w,o=e.h;this.x=void 0,this.y=void 0,this.w=void 0,this.h=void 0,this.x=t,this.y=i,this.w=s,this.h=o}return e.prototype.convert=function(){return this.y=o.windowSize.height-this.y,this},e}()),r=e("MEBaseMeta",(function(e){var t=e.emojiKey,i=e.timestamp,s=e.scene,o=e.frame,r=e.ID,m=e.ext,h=e.emojiCount;this.emojiKey=void 0,this.timestamp=void 0,this.scene=void 0,this.id=void 0,this.ext=void 0,this.emojiCount=void 0,this.frame=void 0,this.emojiKey=t,this.timestamp=i,this.scene=s,this.id=r,this.ext=m,this.emojiCount=h,o&&(this.frame=o instanceof n?o:new n(o))}));e("MEMsgMeta",function(e){function s(t){var i,s=t.emojiKey,o=t.timestamp,n=t.scene,r=t.frame,m=t.ID,h=t.ext,a=t.emojiCount,c=t.isFrom,u=t.msgId,v=t.msgType,d=t.toUserName,f=t.fromUserName,y=t.content;return(i=e.call(this,{emojiKey:s,timestamp:o,scene:n,frame:r,ID:m,ext:h,emojiCount:a})||this).isFrom=void 0,i.msgId=void 0,i.msgType=void 0,i.toUserName=void 0,i.fromUserName=void 0,i.content=void 0,i.isFrom=c,i.msgId=u,i.msgType=v,i.toUserName=d,i.fromUserName=f,i.content=y,i}return t(s,e),i(s,[{key:"isPat",get:function(){return 49===this.msgType}}]),s}(r));s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});