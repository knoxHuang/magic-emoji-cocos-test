System.register("chunks:///_virtual/EasterEggBaseEntity.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,s=t.Component}],execute:function(){var o;r._RF.push({},"050bcY+uI1FRI3y4J2HXsWV","EasterEggBaseEntity",void 0);var a=n.ccclass;n.property,t("EasterEggBaseEntity",a("EasterEggBaseEntity")(o=function(t){function r(){for(var e,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).eggKey=void 0,e.eggId=void 0,e.handler=void 0,e.stopUpdate=void 0,e}return e(r,t),r}(s))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/EasterEggClickableEntity.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MagicEmojiUtil.ts","./JSBridge.ts","./EasterEggBaseEntity.ts"],(function(e){"use strict";var t,i,s,n,o,r,a,l,c;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,s=e._decorator,n=e.view,o=e.Vec2,r=e.screen},function(e){a=e.MagicEmojiUtil},function(e){l=e.default},function(e){c=e.EasterEggBaseEntity}],execute:function(){var h;i._RF.push({},"d23db0S1H1N67Fy9nEXg0Pt","EasterEggClickableEntity",void 0);var u=s.ccclass;e("EasterEggClickableEntity",u("EasterEggClickableEntity")(h=function(e){function i(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).skipFrameCounter=0,t.totalFrameCounter=0,t.halfScreenSize=void 0,t.offsetY=void 0,t}t(i,e);var s=i.prototype;return s.start=function(){var e=n.getVisibleSizeInPixel();this.halfScreenSize=new o(e.width/2,e.height/2),this.offsetY=0,a.isAndroid()&&(this.offsetY=e.height/9),console.info("clickable adaption, offsetY: "+this.offsetY+"px")},s.update=function(e){var t;if(this.totalFrameCounter>=1e4)return console.info("clickable suicide"),void(null==this||null==(t=this.node)||t.destroy());if(this.stopUpdate)console.info("stop update");else if(this.skipFrameCounter<1)this.skipFrameCounter++;else{this.skipFrameCounter=0,this.totalFrameCounter+=1;var i=this.handler.onGetPosition();if(i){var s=this.handler.onGetSize();if(s){var n=0,o=0;if("Jumper"===this.handler.EGG_KEY||"NewYear2022"===this.handler.EGG_KEY){var l=a.mainCamera.worldToScreen(i);n=l.x,o=r.windowSize.height-l.y}else n=this.halfScreenSize.x+i.x-s.x/2,o=this.halfScreenSize.y-i.y-s.y/2-this.offsetY;this.setBoundingBox(n,o,s.x,s.y)}else console.error("size is null, skip")}else console.error("pos is null, skip")}},s.reset=function(){this.setBoundingBox(0,0,0,0)},s.setBoundingBox=function(e,t,i,s){l.invoke("setEasterEggBoundingBox",{frame:{x:e,y:t,w:i,h:s},eggKey:this.eggKey,eggId:this.eggId})},i}(c))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/EasterEggHandlerBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MEHandlerBase.ts","./MERuntime.ts"],(function(e){"use strict";var t,n,i,a,r,l,o,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,o=e.Prefab},function(e){c=e.MEHandlerBase},function(e){u=e.default}],execute:function(){var s,p,f,g,E,d,b;e({eEasterEggAnimationType:void 0,eEasterEggStopReason:void 0}),r._RF.push({},"b2c02O4vPZFepTv8CTOT52x","EasterEggHandlerBase",void 0);var y,v,m=l.ccclass,h=l.property;!function(e){e[e.Unclickable=1]="Unclickable",e[e.Clickable=2]="Clickable"}(y||(y=e("eEasterEggAnimationType",{}))),function(e){e[e.AnimationEnd=0]="AnimationEnd",e[e.IntentionallyQuit=1]="IntentionallyQuit",e[e.Interrupt=2]="Interrupt",e[e.Timeout=3]="Timeout",e[e.ClearAllVFX=4]="ClearAllVFX"}(v||(v=e("eEasterEggStopReason",{})));e("EasterEggHandlerBase",(s=m("EasterEggHandlerBase"),p=h({type:o}),f=h({type:o}),s((d=t((E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"unclickableSpawnerPrefab",d,a(t)),i(t,"clickablePrefab",b,a(t)),t.lifetime=void 0,t.currentSession=void 0,t.EGG_KEY=void 0,t}n(t,e);var r=t.prototype;return r.onLoad=function(){u.instance.easterEggManager.registerHandler(this.EGG_KEY,this)},r.start=function(){},r.update=function(e){},r.IntentionallyQuit=function(){},r.timeoutQuit=function(){},r.quit=function(){},t}(c)).prototype,"unclickableSpawnerPrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(E.prototype,"clickablePrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=E))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/EasterEggManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EasterEggHandlerBase.ts","./EasterEggSession.ts"],(function(e){"use strict";var n,s,o,t,i,a,r;return{setters:[function(e){n=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,o=e.assetManager,t=e.instantiate,i=e.director},function(e){a=e.eEasterEggStopReason},function(e){r=e.EasterEggSession}],execute:function(){e("eEasterEggActionType",void 0),s._RF.push({},"1a64ckF0K1GuJKs/WIXE/9J","EasterEggManager",void 0);var l;!function(e){e.PlayAnimation="playAnimation",e.GiftClick="giftClick",e.ForceStop="forceStop"}(l||(l=e("eEasterEggActionType",{})));e("EasterEggManager",function(){function e(){this.handlerMap=void 0,this.sessionMap=void 0,this.currentSceneId=void 0,this.handlerRemoveList=void 0,this.sessionRemoveList=void 0}var s=e.prototype;return s.onStart=function(){this.handlerMap=new Map,this.sessionMap=new Map,this.handlerRemoveList=[],this.sessionRemoveList=[]},s.onUpdate=function(e){this.updateHandlerLifetime(e),this.updateSessionTimeout(e)},s.onEnd=function(){},s.registerHandler=function(e,n){console.info("[ME][EasterEgg] register key: "+e),this.handlerMap.has(e)?console.warn("already had key: "+e+", skip"):this.handlerMap.set(e,n)},s.handleEasterEgg=function(e){var n,s,o,t,i,r=e.action;try{i=JSON.parse(e.extString)}catch(n){console.warn("no ext for egg: "+e.eggKey+", type: "+e.animationType)}switch(r){case l.PlayAnimation:this.startSession(e.eggKey,e.eggId,e.animationType,e.sceneId,null==(n=i)?void 0:n.keyword,null==(s=i)?void 0:s.messageLocalId);break;case l.GiftClick:null==(o=this.sessionMap.get(e.eggId))||o.triggerClick();break;case l.ForceStop:null==(t=this.sessionMap.get(e.eggId))||t.forceStop(a.IntentionallyQuit)}},s.startSession=function(e,n,s,a,r,l){var c=this;if(this.handlerMap.has(e)||console.warn("eggKey: "+e+" handler has not been added"),console.info("[ME][EasterEgg] session come in, key: "+e+", id: "+n+", type: "+s+", sceneId: "+a+", keyword: "+r+", msgId:"+l),this.handlerMap.get(e))this.playAnimation(e,n,s,a,r,l);else{console.info("loadBundle easter egg: "+e);var d=Date.now();o.loadBundle(e,(function(o,h){console.info("loadBundle easter egg: "+e+" cost: "+(Date.now()-d)),o?console.error(o):(d=Date.now(),console.info("bundle load easter egg: "+e),h.load(e,(function(o,h){if(o)console.error(o);else{console.info("bundle load easter egg: "+e+" cost: "+(Date.now()-d)),d=Date.now();var g=t(h);i.getScene().addChild(g),console.info("instantiate "+e+" cost: "+(Date.now()-d)),c.playAnimation(e,n,s,a,r,l)}})))}))}},s.stopAllSessions=function(){for(var e,s=n(this.sessionMap.keys());!(e=s()).done;){var o=e.value;this.forceStopSession(o,a.IntentionallyQuit)}},s.forceStopSession=function(e,n){if(console.info("force stop session: "+e),this.sessionMap.has(e)){var s,o=this.sessionMap.get(e);if(!o.handler||!o.handler.isValid)return;var t=null==(s=o.handler)?void 0:s.currentSession;if(t&&t!==o)return void console.info("not current session: "+t.eggId+", skip");o.handler.onBeforeForceStop(n,o)||o.forceStop(n)}},s.notifyClearAllVFX=function(){this.handlerMap.forEach((function(e,n){e.onClearAllVFX()}))},s.playAnimation=function(e,n,s,o,t,i){var l;if(this.handlerMap.has(e)&&(this.handlerMap.get(e).lifetime=0),this.currentSceneId&&this.currentSceneId!=o&&(console.warn("sceneId changed from "+this.currentSceneId+" to "+o+", stop all sessions"),this.stopAllSessions()),this.currentSceneId=o,!this.sessionMap.has(n)){var c=this.handlerMap.get(e),d=c.currentSession;d&&d.eggId!==n&&(console.info("current session: "+d.eggId+", we got new session now: "+n+", stop old one."),d.forceStop(a.Interrupt)),console.info("start new session successful: "+n);var h=new r(e,n,o,c,null==c?void 0:c.onGetTimeout());this.sessionMap.set(n,h),c.currentSession=h}null==(l=this.sessionMap.get(n))||l.playAnimation({type:s,eggKey:e,eggId:n,keyword:t,messageLocalId:i})},s.updateHandlerLifetime=function(e){var n=this;this.handlerMap.forEach((function(s,o){var t;(s.lifetime+=e,s.lifetime>=30)&&(console.info("lifetime expired("+s.lifetime+"), destroy key: "+o+", handler: "+s.node.name),s.onLifetimeEnd(),null==s||null==(t=s.node)||t.destroy(),n.handlerRemoveList.push(o))})),this.handlerRemoveList.length>0&&(this.handlerRemoveList.forEach((function(e){n.handlerMap.delete(e)})),this.handlerRemoveList=[])},s.updateSessionTimeout=function(e){var n=this;this.sessionMap.forEach((function(s,o){s.lifetime+=1e3*e,s.lifetime>=s.timeout&&(console.info(s.eggKey+", "+s.eggId+" session timeout("+s.lifetime+"), exit!"),n.sessionRemoveList.push(o))})),this.sessionRemoveList.length>0&&(this.sessionRemoveList.forEach((function(e){n.forceStopSession(e,a.Timeout),n.sessionMap.delete(e)})),this.sessionRemoveList=[])},e}());s._RF.pop()}}}));

System.register("chunks:///_virtual/EasterEggSession.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MEEntity.ts","./JSBridge.ts","./EasterEggClickableEntity.ts","./EasterEggUnclickableEntity.ts","./EasterEggHandlerBase.ts","./MERuntime.ts","./MESysInfo.ts"],(function(t){"use strict";var e,i,n,s,a,o,r,l,c,h,g,d;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,n=t.director,s=t.view,a=t.Vec3},function(t){o=t.MEEntity},function(t){r=t.default},function(t){l=t.EasterEggClickableEntity},function(t){c=t.EasterEggUnclickableEntity},function(t){h=t.eEasterEggAnimationType},function(t){g=t.default},function(t){d=t.Platform}],execute:function(){t("eEasterEggStatus",void 0),i._RF.push({},"ae7b4191TpJ9IdjBoPEDFAA","EasterEggSession",void 0);var u,f=28254;!function(t){t[t.Start=1]="Start",t[t.Click=2]="Click",t[t.End=3]="End"}(u||(u=t("eEasterEggStatus",{})));t("EasterEggSession",function(){function t(t,e,i,n,s){this.eggKey=void 0,this.eggId=void 0,this.sceneId=void 0,this.timeout=void 0,this.handler=void 0,this.currentStatus=void 0,this.unclickables=[],this.clickable=void 0,this.lifetime=void 0,this.firstPlay=void 0,this._canvasAdapter=void 0,this.eggId=e,this.eggKey=t,this.sceneId=i,this.handler=n,this.timeout=s||30,this.lifetime=0,this.firstPlay=!0,this.changeAnimationStatus(u.Start)}var i=t.prototype;return i.markClickableShown=function(){console.info("clickable is shown"),this.reportClickableShown()},i.markUnclickableEntity=function(t,e,i,n){var s,a=null!=(s=i.getComponent(c))?s:i.addComponent(c);a.eggId=this.eggId,a.eggKey=this.eggKey,a.handler=this.handler,a.keyword=t,a.messsageLocalId=e,this.unclickables.push(a),n&&this.canvas.addChild(i)},i.playAnimation=function(t){if(console.info("play animation: "+JSON.stringify(t)),t.type===h.Clickable){var e,i=this.handler.onPlayClickable(this);if(!i)return void console.info("no clickable "+this.eggKey+", "+this.eggId);"Jumper"!==this.eggKey&&"NewYear2022"!==this.eggKey&&this.canvas.addChild(i),this.clickable=null!=(e=i.getComponent(l))?e:i.addComponent(l),this.clickable.eggId=this.eggId,this.clickable.eggKey=this.eggKey,this.clickable.handler=this.handler,i.getComponent(o).invincible=!0}else this.handler.onPlayUnclickable(t.keyword,t.messageLocalId,this),this.firstPlay&&(this.firstPlay=!1,this.reportUnclickableShown(t.keyword))},i.forceStop=function(t){var e,i,n;this.changeAnimationStatus(u.End),this.handler.onForceStop(t),null==(e=this.clickable)||e.reset(),null==(i=this.clickable)||null==(n=i.node)||n.destroy(),this.unclickables.forEach((function(t){var e;null==t||null==(e=t.node)||e.destroy()})),this.handler.onEnd(this.eggId)},i.triggerClick=function(){this.handler.onTriggerClick(this.eggId),this.changeAnimationStatus(u.Click),this.clickable.stopUpdate=!0,this.reportClickableClicked(),this.quit()},i.quit=function(){var t;this.changeAnimationStatus(u.End),null==(t=this.clickable)||t.reset(),this.handler.onEnd(this.eggId)},i.changeAnimationStatus=function(t){console.info("change status from "+this.currentStatus+" to "+t),this.currentStatus=t;var e={status:t,result:{eggKey:this.eggKey,eggId:this.eggId,timeout:this.timeout}};r.invoke("setEasterEggAnimationStatus",e)},i.reportUnclickableShown=function(t){r.invoke("reportKV",{reportId:f,reportStr:t+","+this.eggId+",1,"+this.sceneId+","+this.eggKey})},i.reportClickableShown=function(){r.invoke("reportKV",{reportId:f,reportStr:","+this.eggId+",3,"+this.sceneId+","+this.eggKey})},i.reportClickableClicked=function(){r.invoke("reportKV",{reportId:f,reportStr:","+this.eggId+",4,"+this.sceneId+","+this.eggKey})},e(t,[{key:"canvas",get:function(){if(!this._canvasAdapter||!this._canvasAdapter.isValid){var t=n.getScene();if(this._canvasAdapter=t.getChildByPath("Canvas/HeightAdapter"),g.instance.sysInfo.deviceInfo.platform===d.Android){var e=s.getVisibleSizeInPixel().y/18;console.info("adapt for android screen, offsetY: "+e+"px"),this._canvasAdapter.position=new a(0,e,0)}}return this._canvasAdapter}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/EasterEggSpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,n,a,i,o,s,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,s=e.Prefab,c=e.Component}],execute:function(){var p,l,u,f,g;i._RF.push({},"e0ec3mPAHNIlImvdO9vXHBz","EasterEggSpawner",void 0);var y=o.ccclass,v=o.property;e("EasterEggSpawner",(p=y("EasterEggSpawner"),l=v({type:[s]}),p((g=r((f=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,n(r,"prefabs",g,a(r)),r}return t(r,e),r}(c)).prototype,"prefabs",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=f))||u));i._RF.pop()}}}));

System.register("chunks:///_virtual/EasterEggUnclickableEntity.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EasterEggBaseEntity.ts"],(function(t){"use strict";var e,n,c,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,c=t._decorator},function(t){r=t.EasterEggBaseEntity}],execute:function(){var a;n._RF.push({},"1dfdfLjjyRBwYTgbI2+vQcv","EasterEggUnclickableEntity",void 0);var i=c.ccclass;t("EasterEggUnclickableEntity",i("EasterEggUnclickableEntity")(a=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))||this).keyword=void 0,e.messsageLocalId=void 0,e}e(n,t);var c=n.prototype;return c.start=function(){},c.update=function(t){},n}(r))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/EmitEmoji.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var o,t,n,r,a,c,i,s,u;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,r=e.input,a=e.Input,c=e.KeyCode,i=e.assetManager,s=e.Prefab,u=e.Component}],execute:function(){var l;t._RF.push({},"3eca49AruBA+r60G2PHvdHw","EmitEmoji",void 0);var p=n.ccclass;n.property,e("EmitEmoji",p("EmitEmoji")(l=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.start=function(){r.on(a.EventType.KEY_DOWN,(function(e){var o="";switch(e.keyCode){case c.DIGIT_1:o="Boom";break;case c.DIGIT_2:o="Firecracker";break;case c.DIGIT_3:o="Firework";break;case c.DIGIT_4:o="Heart";break;case c.DIGIT_5:o="Ribben"}var t=Date.now();i.loadBundle(o,(function(e,n){console.info("loadBundle: "+o+" cost: "+(Date.now()-t)),e?console.error(e):(t=Date.now(),n.load(o,s,(function(e,n){console.info("bundle load: "+o+" cost: "+(Date.now()-t)),e&&console.error(e)})))}))}))},n.update=function(e){},t}(u))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/EmojiHandlerBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MEHandlerBase.ts","./MERuntime.ts"],(function(e){"use strict";var t,n,i,o,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){o=e.MEHandlerBase},function(e){a=e.default}],execute:function(){var r;n._RF.push({},"0315doIKDdP2aqD0uhmxH7B","EmojiHandlerBase",void 0);var s=i.ccclass;i.property,e("EmojiHandleParam",(function(){this.msgId=void 0,this.msgMeta=void 0,this.param=void 0})),e("EmojiHandlerBase",s("EmojiHandlerBase")(r=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).EMOJI_KEY=void 0,t}return t(n,e),n.prototype.onLoad=function(){a.instance.emojiManager.registerEmoji(this.EMOJI_KEY,this)},n}(o))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/EmojiManager.ts",["cc","./MEMeta.ts"],(function(e){"use strict";var o,n,i,t,a,r,l,s;return{setters:[function(e){o=e.cclegacy,n=e.settings,i=e.assetManager,t=e.Prefab,a=e.instantiate,r=e.director},function(e){l=e.MEMsgMeta,s=e.Frame}],execute:function(){o._RF.push({},"37c1axRSf1F3I6lzXu/v/m3","EmojiManager",void 0);var c=30;e("default",function(){function e(){this.handlerMap=void 0,this.removeList=void 0}var o=e.prototype;return o.onStart=function(){this.handlerMap=new Map,this.removeList=[]},o.onUpdate=function(e){var o=this;this.handlerMap.forEach((function(n,i){var t;(n.lifetime+=e,n.lifetime>=c)&&(console.info("lifetime expired("+n.lifetime+"), destroy key: "+i+", handler: "+n.node.name),null==n||null==(t=n.node)||t.destroy(),o.removeList.push(i))})),this.removeList.length>0&&(this.removeList.forEach((function(e){o.handlerMap.delete(e)})),this.removeList=[])},o.onEnd=function(){},o.registerEmoji=function(e,o){console.info("register emoji key: "+e),this.handlerMap.has(e)?console.warn("already had key: "+e+", skip"):this.handlerMap.set(e,o)},o.handleEmoji=function(e,o,c,d){var f;console.info(c,c.frame,c instanceof l,c.frame instanceof s,d),null==(f=c.frame)||f.convert(),n.querySettings("custom","rabbitJumpToRibben")&&"Ribben"===e?e="RabbitJump":n.querySettings("custom","replaceFirework")&&("Heart"===e?(d.group=0,d.index=9,d.disableBloom=!0,e="Firework"):"Ribben"===e?(d.group=0,d.index=6,d.disableBloom=!0,e="Firework"):"Firecracker"===e?(d.group=0,d.index=3,d.disableBloom=!0,e="Firework"):"Firework"===e&&(d.group=0,d.index=0,d.disableBloom=!0)),console.info("handle emoji: "+e);var m=this.handlerMap.get(e);if(m)null==m||m.handleEmoji({msgId:o,msgMeta:c,param:d});else{console.info("loadBundle emoji: "+e);var u=Date.now();i.loadBundle(e,(function(n,i){console.info("loadBundle emoji: "+e+" cost: "+(Date.now()-u)),n?console.error(n):(u=Date.now(),console.info("bundle load emoji: "+e),i.load(e,t,(function(n,i){if(console.info("bundle load "+e+" cost: "+(Date.now()-u)),n)console.error(n);else{u=Date.now(),console.info("instantiate "+e);var t=a(i);r.getScene().addChild(t),console.info("instantiate "+e+" cost: "+(Date.now()-u));var l=t.getComponent("ME_"+e);null==l||l.handleEmoji({msgId:o,msgMeta:c,param:d})}})))}))}},o.setHandlerMaxLifetime=function(e){e=e<0?0:e,console.info("change emoji handler max lifetime from "+c+" to "+e),c=e},o.notifyClearAllVFX=function(){this.handlerMap.forEach((function(e,o){e.onClearAllVFX()}))},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/EntityManager.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"17b52E7yzFA5bRihdgnUQQF","EntityManager",void 0);t("default",function(){function t(){this.entities=[]}var n=t.prototype;return n.addEntity=function(t){this.entities.push(t)},n.destroyAllEntities=function(){this.entities.forEach((function(t){t&&t.node&&(t.node.active=!1,t.node.destroy())})),this.entities=[]},n.onStart=function(){},n.onUpdate=function(t){},n.onEnd=function(){this.destroyAllEntities()},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/EntityPool.ts",["cc"],(function(t){"use strict";var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"d0056NjoJxAG4X4yrWMDhSK","EntityPool",void 0);t("default",(function(){}));c._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["cc","./JSBridge.ts","./MERuntime.ts","./MEMeta.ts"],(function(n){"use strict";var t,e,a,i;return{setters:[function(n){t=n.cclegacy},function(n){e=n.default},function(n){a=n.default},function(n){i=n.MEMsgMeta}],execute:function(){t._RF.push({},"262a30hlntJMZad7H7CFrJ2","EventManager",void 0);n("default",function(){function n(){this.eventMap=void 0}var t=n.prototype;return t.onStart=function(){this.eventMap=new Map,e.on("OnHandleMagicEmoji",this.onHandleMagicEmoji.bind(this)),e.on("OnHandleEasterEgg",this.onHandleEasterEgg.bind(this)),e.on("OnHandleSystemEvent",this.onHandleSystemEvent.bind(this)),e.invoke("finishLoading",{})},t.onUpdate=function(n){},t.onEnd=function(){},t.onHandleMagicEmoji=function(n){a.instance.emojiManager.handleEmoji(n.id,n.msgId,new i(n.msgMeta),n.param)},t.onHandleEasterEgg=function(n){a.instance.easterEggManager.handleEasterEgg(n)},t.onHandleSystemEvent=function(n){var t,e=n.event,a=n.data;console.info("onHandleSystemEvent: "+e+", data: ",n),null==(t=this.eventMap.get(e))||t.forEach((function(n){n(a)}))},t.listenToEvent=function(n,t){var e=this.eventMap.get(n);e instanceof Set||(e=new Set,this.eventMap.set(n,e)),e.add(t)},t.unlistenToEvent=function(n,t){var e=this.eventMap.get(n);e instanceof Set&&(e.delete(t),0===e.size&&this.eventMap.delete(n))},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/FireworkEditor.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var e,i,t,n,o,a,u,l;return{setters:[function(r){e=r.applyDecoratedDescriptor,i=r.initializerDefineProperty,t=r.inheritsLoose,n=r.assertThisInitialized},function(r){o=r.cclegacy,a=r._decorator,u=r.Prefab,l=r.Component}],execute:function(){var c,s,p,f,b,h,w,y,d,g,m,k,F,P,z,v,G,x,T,E,L;o._RF.push({},"be4e6xUQOlAjrXLxyXXL+O3","FireworkEditor",void 0);var _=a.ccclass,D=a.property,X=r("FireworkPrefabTest",(c=_("FireworkPrefabTest"),s=D(u),p=D(u),c((h=e((b=function(){i(this,"minPrefab",h,this),i(this,"maxPrefab",w,this)}).prototype,"minPrefab",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(b.prototype,"maxPrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=b))||f)),j=r("FireworkGroupTest",(y=_("FireworkGroupTest"),d=D([X]),g=D([X]),y((F=e((k=function(){i(this,"trails",F,this),i(this,"notrails",P,this)}).prototype,"trails",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=e(k.prototype,"notrails",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=k))||m));r("FireworkEditor",(z=_("FireworkEditor"),v=D(j),G=D(j),z((E=e((T=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=r.call.apply(r,[this].concat(o))||this,i(e,"lightGroup",E,n(e)),i(e,"darkGroup",L,n(e)),e}t(e,r);var o=e.prototype;return o.start=function(){},o.update=function(r){},e}(l)).prototype,"lightGroup",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new j}}),L=e(T.prototype,"darkGroup",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new j}}),x=T))||x));o._RF.pop()}}}));

System.register("chunks:///_virtual/IManager.interface.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"0afab+D06NEIJ0QeNITgXw7","IManager.interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/IMockCase.ts",["cc"],(function(){"use strict";var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"a3f48oMpCZFNpdzF93hMIHM","IMockCase",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/JSBridge.ts",["cc"],(function(n){"use strict";var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"654f8aAQPVMZrkf7wFZ2nQP","JSBridge",void 0);n("default",function(){function n(){}return n.invoke=function(n,e,t){if("undefined"!=typeof InternalJSBridge)return InternalJSBridge.invoke(n,e,t)},n.on=function(n,e){"undefined"!=typeof InternalJSBridge&&(console.log("engine on event: "+n),InternalJSBridge.on(n,e))},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/MagicEmojiAPI.ts",["cc","./JSBridge.ts","./MEMeta.ts"],(function(e){"use strict";var t,n,a,s;return{setters:[function(e){t=e.cclegacy},function(e){n=e.default},function(e){a=e.MEMsgMeta,s=e.Frame}],execute:function(){t._RF.push({},"39ddfx6z9RPC7sC2st1qn8L","MagicEmojiAPI",void 0);e("MagicEmojiAPI",function(){function e(){}return e.getMsgMetaByMsgId=function(e){return n.invoke("getMsgMetaByMsgId",{msgId:e})},e.getMockMeta=function(e){var t=new a({emojiKey:"",fromUserName:"",isFrom:!0,msgId:e,msgType:0,scene:0,timestamp:0,toUserName:"",frame:new s({x:212,y:0,w:50,h:50})});switch(e){case 0:t.frame=new s({x:212,y:0,w:50,h:50});break;case 1:t.frame=new s({x:170,y:280,w:50,h:50});break;case 2:t.frame=new s({x:170,y:400,w:50,h:50});break;case 3:t.frame=new s({x:170,y:600,w:50,h:50});break;case 4:t.frame=new s({x:170,y:800,w:50,h:50})}return t},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/MagicEmojiUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MERuntime.ts","./MESysInfo.ts","./MEEntity.ts"],(function(e){"use strict";var n,t,o,r,i,a,c,l,u,s,d,m,f,v,g;return{setters:[function(e){n=e.createClass,t=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){r=e.cclegacy,i=e.instantiate,a=e.director,c=e.CurveRange,l=e.Vec3,u=e.assetManager,s=e.screen,d=e.find,m=e.Camera},function(e){f=e.default},function(e){v=e.Platform},function(e){g=e.MEEntity}],execute:function(){r._RF.push({},"b2cb23wOitNypimZ+qxXTTU","MagicEmojiUtil",void 0),e("MagicEmojiUtil",function(){function e(){}return e.instantiate=function(e){var n=i(e);return n.addComponent(g),a.getScene().addChild(n),n},e.setVelocityOvertimeModule=function(e,n,t,o,r){var i=this.calculatedAcceleration(e,n,t,o);console.log("newVelocityOvertimeModule"),console.log(i);var a=1;e.x>n.x&&(a=-1),r.startSpeed.mode=c.Mode.Constant,r.startSpeed.constant=0,r.velocityOvertimeModule.enable=!0,r.velocityOvertimeModule.x.mode=c.Mode.Constant,r.velocityOvertimeModule.x.constant=i.x*a,r.velocityOvertimeModule.y.mode=c.Mode.Constant,r.velocityOvertimeModule.y.constant=i.y,r.velocityOvertimeModule.z.mode=c.Mode.Constant,r.velocityOvertimeModule.z.constant=i.z,r.velocityOvertimeModule.speedModifier.mode=c.Mode.Constant,r.velocityOvertimeModule.speedModifier.constant=1},e.calculatedAcceleration=function(e,n,t,o){var r=-9.8*t*o*o*.5,i=(n.x-e.x)/o,a=(n.y-e.y-r)/o,c=(n.z-e.z)/o;return new l(i,c,a)},e.convertScreenPosToCenter=function(e){return new l(e.x+e.w/2,e.y-e.h/2,0)},e.getWorldPositionFromScreenPos=function(n,t,o){var r=e.mainCamera.screenToWorld(new l(n,t,o));return r.z=0,r},e.getWorldPositionFromMsgMeta=function(n,t){var o;return void 0===t&&(t=!0),o=t?e.convertScreenPosToCenter(n.frame):new l(n.frame.x,n.frame.y,0),e.getWorldPositionFromScreenPos(o.x,o.y,o.z)},e.isAndroid=function(){return f.instance.sysInfo.deviceInfo.platform===v.Android},e.loadBundleSync=function(e){return new Promise((function(n,t){u.loadBundle(e,(function(e,o){if(e)return console.error(e),void t(e);n(o)}))}))},e.loadAssetByBundleSync=function(n,r,i){return new Promise(t(o().mark((function t(a,c){var l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=u.getBundle(n),t.t0){t.next=5;break}return t.next=4,e.loadBundleSync(n);case 4:t.t0=t.sent;case 5:if(l=t.t0){t.next=10;break}return console.log("get bundle is null by "+n),a(null),t.abrupt("return");case 10:l.load(r,i,(function(e,n){if(e)return console.error(e),void c(e);a(n)}));case 11:case"end":return t.stop()}}),t)}))))},e.getPixelSize=function(){var n=new l(s.windowSize.width,s.windowSize.height,0),t=e.mainCamera.screenToWorld(n),o=.5*s.windowSize.height/t.y;return console.log("res: "+n+" world size: "+t+" pixel size: "+o+" cam: "+e.mainCamera.node.position),o},e.randomRange=function(e,n){var t=Number.isInteger(e)&&Number.isInteger(n),o=Math.random()*(n-e)+e;return t?Math.floor(o):o},e.blendWeigths=function(e,n,t){if(e.fill(0),0===n.length);else if(t<=n[0])e[0]=1;else if(t>=n[n.length-1])e[e.length-1]=1;else{for(var o=0,r=1;r<n.length;++r)if(n[r]>t){o=r;break}var i=n[o-1],a=n[o],c=a-i;e[o-1]=(a-t)/c,e[o]=(t-i)/c}return e},e.getMaxValueIndex=function(e){for(var n=0,t=e[0],o=1;o<e.length;o++)e[o]>t&&(e[o]=t,n=o);return n},e.getCurrentStateNormalizedTime=function(e,n){var t=e&&e._graphEval._layerEvaluations[n]._currentNode;return t&&3===t.kind?t._fromPort.progress:0},n(e,null,[{key:"mainCamera",get:function(){return e._mainCamera||(e._mainCamera=d("Main Camera").getComponent(m)),this._mainCamera}}]),e}())._mainCamera=void 0,r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./WideScreenAdapter.ts","./ME_Ribben.ts","./MEGameEventHandler.ts","./MECircleCollider.ts","./MEConstants.ts","./MEHandlerBase.ts","./MELauncher.ts","./MERuntime.ts","./MESysInfo.ts","./MagicEmojiAPI.ts","./MagicEmojiUtil.ts","./EasterEggBaseEntity.ts","./EasterEggClickableEntity.ts","./EasterEggHandlerBase.ts","./EasterEggSession.ts","./EasterEggSpawner.ts","./EasterEggUnclickableEntity.ts","./EasterEggManager.ts","./EmojiHandlerBase.ts","./EmojiManager.ts","./EntityPool.ts","./MEEntity.ts","./EntityManager.ts","./JSBridge.ts","./MEMeta.ts","./EventManager.ts","./IManager.interface.ts","./IMockCase.ts","./MockSendEmoji.ts","./MockFramework.ts","./EmitEmoji.ts","./FireworkEditor.ts","./MyTestLaunch.ts","./TestLaunch.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/ME_Ribben.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EmojiHandlerBase.ts","./MagicEmojiUtil.ts","./MEMeta.ts"],(function(e){"use strict";var t,i,r,n,a,o,s,c,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Prefab,c=e.Vec3},function(e){l=e.EmojiHandlerBase},function(e){p=e.MagicEmojiUtil},null],execute:function(){var f,u,b,h,y,E,M;a._RF.push({},"adca0A5XBJMyYcinUDIt5hz","ME_Ribben",void 0);var d=o.ccclass,m=o.property;e("ME_Ribben",(f=d("ME_Ribben"),u=m([s]),b=m([s]),f((E=t((y=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).EMOJI_KEY="Ribben",r(t,"prefabSet",E,n(t)),r(t,"prefabPat",M,n(t)),t}i(t,e);var a=t.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this)},a.handleEmoji=function(e){var t,i,r=p.convertScreenPosToCenter(e.msgMeta.frame),n=p.getWorldPositionFromScreenPos(r.x,r.y,0);i=null!=(t=e.msgMeta)&&t.isPat?n.y>0?this.prefabPat[0]:this.prefabPat[1]:n.x>0?n.y>0?this.prefabSet[0]:this.prefabSet[1]:n.y>0?this.prefabSet[2]:this.prefabSet[3];var a=p.instantiate(i);a.position=new c(n.x,n.y,5),console.info("["+this.EMOJI_KEY+"] screen: "+r+", world pos: "+n+", prefab: "+a.name)},a.onClearAllVFX=function(){},t}(l)).prototype,"prefabSet",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(y.prototype,"prefabPat",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=y))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/MECircleCollider.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,r,t,l,o,n,a;return{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,n=e._decorator,a=e.Component}],execute:function(){var c,u,s,p,d,f,C;o._RF.push({},"3ffbau0/0NO77XibEYVJ+WZ","MECircleCollider",void 0);var b=n.ccclass,h=n.property;e("MECircleCollider",(c=b("MECircleCollider"),u=h({tooltip:"是否为上半圆为碰撞体"}),c((d=i((p=function(e){function i(){for(var i,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return i=e.call.apply(e,[this].concat(o))||this,t(i,"radius",d,l(i)),t(i,"upper",f,l(i)),t(i,"hasCollided",C,l(i)),i.onCollidedDelegate=void 0,i}return r(i,e),i.prototype.onCollided=function(e){this.onCollidedDelegate(e),this.hasCollided=!0},i}(a)).prototype,"radius",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=i(p.prototype,"upper",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=i(p.prototype,"hasCollided",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=p))||s));o._RF.pop()}}}));

System.register("chunks:///_virtual/MEConstants.ts",["cc"],(function(r){"use strict";var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){var t;r("eEmojiKey",void 0),e._RF.push({},"c8a5axlT0RFdrPriRGKbFg1","MEConstants",void 0),function(r){r.Bomb="/:bome",r.Firecracker="[Firecracker]",r.Fireworks="[Fireworks]",r.Heart="/:heart",r.Party="[Party]",r.Shit="/:shit"}(t||(t=r("eEmojiKey",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/MEEntity.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MERuntime.ts"],(function(t){"use strict";var i,n,e,o,r;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,o=t.Component},function(t){r=t.default}],execute:function(){var c;n._RF.push({},"4d926GWcLJCYKvDxP93ZiWW","MEEntity",void 0);var s=e.ccclass;e.property,t("MEEntity",s("MEEntity")(c=function(t){function n(){for(var i,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(i=t.call.apply(t,[this].concat(e))||this).lifetime=10,i.invincible=void 0,i}i(n,t);var e=n.prototype;return e.onLoad=function(){r.instance.entityManager.addEntity(this)},e.update=function(t){var i;this.invincible||(this.lifetime-=t,this.lifetime<0&&(null==this||null==(i=this.node)||i.destroy()))},e.resetLifetime=function(){this.lifetime=0},n}(o))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/MEGameEventHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MERuntime.ts"],(function(e){"use strict";var t,n,r,a,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,a=e.Component},function(e){o=e.default}],execute:function(){var l;n._RF.push({},"8d757DEAUlJMab0IdJgu9RR","MEGameEventHandler",void 0);var s=r.ccclass;r.property,e("MEGameEventHandler",s("MEGameEventHandler")(l=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.start=function(){var e=o.instance;e.eventManager.listenToEvent("ClearAllVFX",(function(){e.emojiManager.notifyClearAllVFX(),e.easterEggManager.notifyClearAllVFX(),e.easterEggManager.stopAllSessions(),e.entityManager.destroyAllEntities()}))},n}(a))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/MEHandlerBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,r,t,a;return{setters:[function(e){n=e.inheritsLoose},function(e){r=e.cclegacy,t=e._decorator,a=e.Component}],execute:function(){var c;r._RF.push({},"f582ei+K7JMoZfqnJuum8w4","MEHandlerBase",void 0);var s=t.ccclass;e("MEHandlerBase",s("MEHandlerBase")(c=function(e){function r(){for(var n,r=arguments.length,t=new Array(r),a=0;a<r;a++)t[a]=arguments[a];return(n=e.call.apply(e,[this].concat(t))||this).lifetime=0,n}return n(r,e),r}(a))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/MELauncher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MEMeta.ts"],(function(e){"use strict";var n,t,o,r,a,s,c,i,u;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,r=e.assetManager,a=e.instantiate,s=e.director,c=e.Component},function(e){i=e.MEMsgMeta,u=e.Frame}],execute:function(){var l;t._RF.push({},"cd336XHKjtNiLaYcB/md08I","MELauncher",void 0);var m=o.ccclass;o.property,e("MELauncher",m("MELauncher")(l=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.start=function(){var e=Date.now();r.loadBundle("Ribben",(function(n,t){n?console.error(n):t.load("Ribben",(function(n,t){if(n)console.error(n);else{var o=a(t);s.getScene().addChild(o);var r=o.getComponent("ME_Ribben");null==r||r.handleEmoji({msgId:0,msgMeta:new i({emojiKey:"",fromUserName:"",isFrom:!1,msgId:0,msgType:0,scene:0,timestamp:0,toUserName:"",frame:new u({x:528,y:269,w:50,h:41})})}),console.info("Ribben cost: "+(Date.now()-e))}}))}))},t}(c))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/MEMeta.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,s,o;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){s=e.cclegacy,o=e.screen}],execute:function(){s._RF.push({},"b00d3vP8MxK8L2wHhIvBMTc","MEMeta",void 0);var n=e("Frame",function(){function e(e){var t=e.x,i=e.y,s=e.w,o=e.h;this.x=void 0,this.y=void 0,this.w=void 0,this.h=void 0,this.x=t,this.y=i,this.w=s,this.h=o}return e.prototype.convert=function(){return this.y=o.windowSize.height-this.y,this},e}()),r=e("MEBaseMeta",(function(e){var t=e.emojiKey,i=e.timestamp,s=e.scene,o=e.frame,r=e.ID,m=e.ext,h=e.emojiCount;this.emojiKey=void 0,this.timestamp=void 0,this.scene=void 0,this.id=void 0,this.ext=void 0,this.emojiCount=void 0,this.frame=void 0,this.emojiKey=t,this.timestamp=i,this.scene=s,this.id=r,this.ext=m,this.emojiCount=h,o&&(this.frame=o instanceof n?o:new n(o))}));e("MEMsgMeta",function(e){function s(t){var i,s=t.emojiKey,o=t.timestamp,n=t.scene,r=t.frame,m=t.ID,h=t.ext,a=t.emojiCount,c=t.isFrom,u=t.msgId,v=t.msgType,d=t.toUserName,f=t.fromUserName,y=t.content;return(i=e.call(this,{emojiKey:s,timestamp:o,scene:n,frame:r,ID:m,ext:h,emojiCount:a})||this).isFrom=void 0,i.msgId=void 0,i.msgType=void 0,i.toUserName=void 0,i.fromUserName=void 0,i.content=void 0,i.isFrom=c,i.msgId=u,i.msgType=v,i.toUserName=d,i.fromUserName=f,i.content=y,i}return t(s,e),i(s,[{key:"isPat",get:function(){return 49===this.msgType}}]),s}(r));s._RF.pop()}}}));

System.register("chunks:///_virtual/MERuntime.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EasterEggManager.ts","./EmojiManager.ts","./EntityManager.ts","./EventManager.ts","./MESysInfo.ts"],(function(n){"use strict";var e,t,a,i,s,o,r,c,u,g,f,h;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass},function(n){a=n.cclegacy,i=n._decorator,s=n.Node,o=n.director,r=n.Component},function(n){c=n.EasterEggManager},function(n){u=n.default},function(n){g=n.default},function(n){f=n.default},function(n){h=n.MESysInfo}],execute:function(){var d,l;a._RF.push({},"fec8e4fIYpKtIWq+MKb/8Ky","MERuntime",void 0);var M=i.ccclass;i.property,n("default",M("MERuntime")(((l=function(n){function a(){for(var e,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))||this).entityManager=void 0,e.eventManager=void 0,e.emojiManager=void 0,e.easterEggManager=void 0,e.sysInfo=void 0,e.managers=[],e}e(a,n);var i=a.prototype;return i.onLoad=function(){console.info("[ME] launch cocos backend"),this.sysInfo=new h,this.sysInfo.init(),this.entityManager=new g,this.eventManager=new f,this.emojiManager=new u,this.easterEggManager=new c,this.managers.push(this.entityManager),this.managers.push(this.eventManager),this.managers.push(this.easterEggManager),this.managers.push(this.emojiManager),this.managers.forEach((function(n){n.onStart()}))},i.update=function(n){this.managers.forEach((function(e){e.onUpdate(n)}))},i.onDestroy=function(){var n,e;null==(n=a._instance)||null==(e=n.node)||e.destroy(),a._instance=null},t(a,null,[{key:"instance",get:function(){if(!a._instance){console.info("init MERuntime");var n=new s("MERuntime");o.getScene().addChild(n),o.addPersistRootNode(n),a._instance=n.addComponent(a)}return a._instance}}]),a}(r))._instance=void 0,d=l))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/MESysInfo.ts",["cc","./JSBridge.ts"],(function(i){"use strict";var o,e;return{setters:[function(i){o=i.cclegacy},function(i){e=i.default}],execute:function(){var n;i("Platform",void 0),o._RF.push({},"9c834v+88VJ8oCVxXzXX4c0","MESysInfo",void 0),function(i){i[i.iOS=0]="iOS",i[i.Android=1]="Android",i[i.Other=2]="Other"}(n||(n=i("Platform",{})));i("MESysInfo",function(){function i(){this.deviceInfo=void 0}return i.prototype.init=function(){"undefined"==typeof mb?this.deviceInfo={model:"Cocos Creator",system:"iOS",clientVersion:-1,minigameVersion:"-1",commonLibVersion:"-1"}:this.deviceInfo=e.invoke("initRuntimeGlobal",{}),this.deviceInfo.system.toLowerCase().indexOf("ios")>=0?this.deviceInfo.platform=n.iOS:this.deviceInfo.platform=n.Android,console.log("init sys info: ",this.deviceInfo)},i}());o._RF.pop()}}}));

System.register("chunks:///_virtual/MockFramework.ts",["cc"],(function(c){"use strict";var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"12000IFMc9L2alCHwneLS8u","MockFramework",void 0);c("default",(function(){}));e._RF.pop()}}}));

System.register("chunks:///_virtual/MockSendEmoji.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"35283Pgw4JAJ5ZjckKKny7S","MockSendEmoji",void 0);t("default",function(){function t(){}var n=t.prototype;return n.onInit=function(){throw new Error("Method not implemented.")},n.onMock=function(t){throw new Error("Method not implemented.")},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/MyTestLaunch.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,o,r,c,s,a,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.instantiate,c=e.CCObject,s=e.resources,a=e.Prefab,i=e.Component}],execute:function(){var u;n._RF.push({},"b7ea5WOiNND2KEHw2IRhS5q","MyTestLaunch",void 0);var l=o.ccclass;o.property,o.executeInEditMode,e("MyTestLaunch",l("MyTestLaunch")(u=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.createNode=function(e){var t=r(e);t._objFlags|=c.Flags.DontSave,t.parent=this.node},o.start=function(){var e=this;s.load("Handlers/Ribben/Ribben",a,(function(t,n){t?console.log(t):e.createNode(n)}))},n}(i))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/TestLaunch.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MERuntime.ts","./EasterEggHandlerBase.ts","./EasterEggManager.ts"],(function(e){"use strict";var t,n,a,r,i,s,c,o,l,u,E,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,c=e.KeyCode,o=e.input,l=e.Input,u=e.Component},function(e){E=e.default},function(e){g=e.eEasterEggAnimationType},function(e){p=e.eEasterEggActionType}],execute:function(){var f,Y,d;i._RF.push({},"c173dzikXBL37yzR1HSIPE+","TestLaunch",void 0);var k=s.ccclass,y=s.property,_=s.executeInEditMode,h=[];h[c.KEY_Q]=["Jumper","1",g.Unclickable,"s1","百事",1],h[c.KEY_W]=["Jumper","1",g.Unclickable,"s1","七喜",2],h[c.KEY_E]=["Jumper","1",g.Unclickable,"s1","美年腾达",3],h[c.KEY_R]=["Jumper","1",g.Unclickable,"s1","微笑趣泡",4],h[c.KEY_B]=["Jumper","1",g.Clickable,"s1","百事",0],h[c.KEY_C]=["Jumper","1","s1",p.GiftClick];var K=[];K[c.KEY_Q]=["NewYear2022","1",g.Unclickable,"s1","新年快乐",1],K[c.KEY_W]=["NewYear2022","1",g.Unclickable,"s1","恭喜发财",2],K[c.KEY_E]=["NewYear2022","1",g.Unclickable,"s1","虎年大吉",3],K[c.KEY_R]=["NewYear2022","1",g.Unclickable,"s1","新年快乐",4],K[c.KEY_B]=["NewYear2022","1",g.Clickable,"s1","新年快乐",0],K[c.KEY_C]=["NewYear2022","1","s1",p.GiftClick];e("TestLaunch",k("TestLaunch")(f=_()((d=t((Y=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,a(t,"useLoin",d,r(t)),t}n(t,e);var i=t.prototype;return i.start=function(){var e=this;o.on(l.EventType.KEY_DOWN,(function(t){var n=e.useLoin?h[t.keyCode]:K[t.keyCode];n&&(n.length>4?e.startSession(n):e.handleEasterEgg(n))}))},i.startSession=function(e){E.instance.easterEggManager.startSession(e[0],e[1],e[2],e[3],e[4],e[5])},i.handleEasterEgg=function(e){E.instance.easterEggManager.handleEasterEgg({eggKey:"Jumper",eggId:"1",sceneId:"s1",action:p.GiftClick})},t}(u)).prototype,"useLoin",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),f=Y))||f)||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/WideScreenAdapter.ts",["cc"],(function(e){"use strict";var t,i,n;return{setters:[function(e){t=e.cclegacy,i=e.clamp01,n=e.screen}],execute:function(){t._RF.push({},"2b557i1lxNPc48BXkWJBJxk","WideScreenAdapter",void 0);e("WideScreenAdapter",function(){function e(){}return e.getBlendTreeRatio=function(e){var t=1;if("number"==typeof e)return e<=13.68?t=.05695*Math.abs(e)-.27904:e<=50.8&&(t=.01347*Math.abs(e)+.31572),i(t);var r,c,o=n.windowSize.width/n.windowSize.height;return t=1,o<=.9668?t=.99059*o-.4577:o<=3.5&&(t=.19738*o+.30917),r=t,c=3,t=Math.round(r*Math.pow(10,c))/Math.pow(10,c),console.info("width: "+n.windowSize.width+", height: "+n.windowSize.height+", aspect ratio: "+o+", blend ratio: "+t),i(t)},e}());t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});